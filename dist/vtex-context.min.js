(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.searchLocalStorage=b(this.searchLocalStorage,this),this.searchQueryString=b(this.searchQueryString,this);var a,c,d;a=this.searchCookies(this.whitelist,this.rules),d=this.searchQueryString(this.whitelist,this.rules),c=this.searchLocalStorage(this.whitelist,this.rules),_.extend(this,a,d,c)}return a.prototype.searchCookies=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(null==a&&(a=[]),null==b&&(b=[]),f={},g=document.cookie.split(";"),k=0,n=a.length;n>k;k++)h=a[k],i=_.readCookie(h),i&&(f[h]=JSON.parse(i));for(l=0,o=b.length;o>l;l++)for(j=b[l],m=0,p=g.length;p>m;m++)d=g[m],c=d.substr(0,d.indexOf("=")).replace(/^\s+|\s+$/g,""),e=d.substr(d.indexOf("=")+1),j.test(c)&&(f[c]=JSON.parse(e));return f},a.prototype.searchQueryString=function(a,b){var c,d;return null==a&&(a=[]),null==b&&(b=[]),d=_.urlParams(),c=null!=this.searchThrough(a,b,d)},a.prototype.searchLocalStorage=function(a,b){var c,d;return null==a&&(a=[]),null==b&&(b=[]),d=localStorage,c=null!=this.searchThrough(a,b,d)},a.prototype.searchThrough=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;for(d={},h=0,l=a.length;l>h;h++)for(g=a[h],i=0,m=c.length;m>i;i++)e=c[i],e===g&&(d[g]=JSON.parse(e));for(j=0,n=b.length;n>j;j++)for(f=b[j],k=0,o=c.length;o>k;k++)e=c[k],e.match(f)&&(d[e]=JSON.parse(e.match(f)));return d},a}(),window.vtex||(window.vtex={}),window.vtex.Context=a,window.vtex.context=new a}).call(this);